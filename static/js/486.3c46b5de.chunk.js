"use strict";(self.webpackChunkveersky_support=self.webpackChunkveersky_support||[]).push([[486],{871:(e,s,t)=>{function i(e,s){var t="";return e&&(t+=e),s&&(t+=s),t}function a(e){const s=new Date(e),t={year:"numeric",month:"short",day:"2-digit",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone};return s.toLocaleDateString("en-US",t)}function n(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(e.length<=s)return e;const t=Math.floor((s-3)/2),i=e.substring(0,t),a=e.substring(e.length-t);return"".concat(i,"...").concat(a)}t.d(s,{bv:()=>i,kU:()=>n,pp:()=>a})},6491:(e,s,t)=>{t.d(s,{A:()=>a});var i=t(1460);const a={getUser:()=>i.A.get("/user/me"),getReportList:(e,s,t)=>{const a={status:e,type:s};return t&&(a.searchTerm=t),i.A.post("/support/reports",a)},fetchDetailsByReportId:e=>{let s="/support/reports/:reportId".replace(":reportId",e.toString());return i.A.get(s)},saveReport:(e,s)=>{const t={action:s.action};return s.comments&&(t.comments=s.comments),i.A.put("/support/reports",{reportId:e,attachments:t})},getCommentsByPostId:e=>i.A.get("/comments",{params:{postId:e}}),getUserById:e=>i.A.get("support/profile",{params:{userId:e}}),getUserList:e=>i.A.post("/user/list",{ids:e})}},9034:(e,s,t)=>{t.d(s,{A:()=>l});var i=t(189),a=t(2505),n=t(579);const l=e=>{const s=e.images.slice(0,5),t=s=>{i.A.createPreviewPopUp({headerName:"",attachments:e.images,previewSong:null,index:s})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"image-gallery",children:s.map(((e,i)=>(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)("img",{src:e.url,alt:"Image ".concat(i),onClick:()=>t(i),style:{...5===s.length&&i==s.length-1&&{opacity:.5}}}),5===s.length&&i==s.length-1&&(0,n.jsx)("div",{className:"plus-icon",onClick:()=>t(i),children:(0,n.jsx)(a.A,{})})]},i)))})})}},6031:(e,s,t)=>{t.d(s,{A:()=>l});var i=t(1020),a=t(5043),n=t(579);const l=e=>{let{open:s,anchorEl:t,closePopover:l,configData:r,selectedData:o}=e;const[c,d]=(0,a.useState)([{value:0,displayName:""}]);(0,a.useEffect)((()=>{d(r)}),[]);return(0,n.jsx)(i.Ay,{id:"id",open:s,anchorEl:t,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},classes:{paper:"popover_content"},children:(0,n.jsx)("div",{className:"moreOptions",children:(0,n.jsx)("ul",{className:"list-Container",children:c.map(((e,s)=>(0,n.jsx)("li",{className:"list-item",onClick:()=>(e=>{o(e),l()})(e),children:e.displayName},s)))})})})}},7630:(e,s,t)=>{t.d(s,{A:()=>x});var i=t(5865),a=t(1045),n=t(8903),l=t(3845),r=t(5043),o=t(6491),c=t(5346),d=t(2200),h=t(6446),m=t(7121),u=t(579);const p=new c.Vy,x=e=>{var s;const[t,c]=(0,r.useState)({id:0,email:"",name:"",displayName:"",profilePic:"",briefcaseCount:0,interests:[],interestsCount:0,postsCount:0,status:""}),[x,v]=(0,r.useState)(!0),g=[{id:0,value:"Posts"},{text:1,value:"Briefcase"},{text:2,value:"Interests"}];return(0,r.useEffect)((()=>{e.id&&o.A.getUserById(e.id).then((e=>{c(e),v(!1)})).catch((e=>{p.error(e)}))}),[]),(0,u.jsx)(u.Fragment,{children:x?(0,u.jsxs)("div",{children:[(0,u.jsxs)(h.A,{children:[(0,u.jsx)(m.A,{animation:"wave",style:{height:40}}),(0,u.jsxs)("div",{style:{display:"flex",marginTop:30},children:[(0,u.jsx)(m.A,{variant:"circular",width:120,height:120}),(0,u.jsxs)("div",{style:{width:"70%",marginLeft:20,alignContent:"center"},children:[(0,u.jsx)(m.A,{style:{flexGrow:1,height:40}}),(0,u.jsx)(m.A,{style:{flexGrow:1,height:20}})]})]})]}),(0,u.jsx)(h.A,{children:(0,u.jsx)(m.A,{variant:"rectangular",width:"100%",height:300,sx:{marginTop:"5%"}})})]}):(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"header",children:(0,u.jsx)(i.A,{className:"semiBold-22 header-style",children:"User Profile Details"})}),(0,u.jsxs)("div",{className:"user_profile",children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)(a.A,{sx:{width:"120px",height:"120px"},alt:null===t||void 0===t?void 0:t.name,src:null===t||void 0===t?void 0:t.profilePic}),(0,u.jsx)(h.A,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",sx:{width:1},children:g.map(((e,s)=>(0,u.jsx)(h.A,{display:"flex",alignItems:"center",justifyContent:"center",gridColumn:"span 1",children:(0,u.jsxs)(h.A,{sx:{width:1,borderRight:s+1===g.length?"unset":"0.5px solid rgba(142, 142, 142, 0.15)"},display:"flex",flexDirection:"column",alignItems:"center",children:[(0,u.jsx)(i.A,{className:"popularity_count",children:0==s?null===t||void 0===t?void 0:t.postsCount:1==s?null===t||void 0===t?void 0:t.briefcaseCount:2==s?null===t||void 0===t?void 0:t.interestsCount:""}),(0,u.jsx)(i.A,{className:"popularity_text",children:e.value})]})},s)))})]}),(0,u.jsxs)(n.Ay,{container:!0,direction:"column",rowSpacing:1.5,rowGap:.5,children:[(0,u.jsx)(n.Ay,{item:!0,children:(0,u.jsx)(i.A,{className:"regular-22",children:null!==(s=null===t||void 0===t?void 0:t.displayName)&&void 0!==s?s:null===t||void 0===t?void 0:t.name})}),null!==t&&void 0!==t&&t.displayLocationName?(0,u.jsxs)(n.Ay,{alignItems:"center",direction:"row",style:{display:"flex"},children:[(0,u.jsx)(d.A,{className:"pin"}),(0,u.jsx)(i.A,{className:"pin_name",children:null===t||void 0===t?void 0:t.displayLocationName})]}):""]}),(0,u.jsx)(h.A,{sx:{width:"100%"},children:(0,u.jsxs)(n.Ay,{container:!0,direction:"column",rowGap:1.5,children:[(0,u.jsx)(n.Ay,{item:!0,xs:!0,children:(0,u.jsx)(i.A,{className:"pin_name",children:null===t||void 0===t?void 0:t.status})}),(0,u.jsx)(n.Ay,{item:!0,xs:!0,children:null===t||void 0===t?void 0:t.interests.map(((e,s)=>(0,u.jsx)(l.A,{sx:{marginRight:1.5,width:"fit-content",background:"var(--senary-color)",borderRadius:"5px",boxShadow:"2px 2px 4px 0px #00000033"},className:"chip_text",label:e},s)))})]})})]}),(0,u.jsxs)(n.Ay,{container:!0,direction:"column",sx:{padding:"0 14px"},rowGap:"10px",children:[(0,u.jsx)(n.Ay,{item:!0,children:(0,u.jsx)(i.A,{className:"regular-22",children:"Other Details"})}),(0,u.jsx)(n.Ay,{item:!0,width:"100px",height:"1px",bgcolor:"var(--tertiary-color)"}),(0,u.jsx)(n.Ay,{container:!0,sx:{width:1},display:"grid",direction:"row",gridTemplateColumns:"repeat(3, 1fr)",children:[{text:0,value:"Account reported"},{text:1,value:"Account warnings"},{text:2,value:"Reports raised"}].map(((e,s)=>{var a,n,l;return(0,u.jsxs)(h.A,{gridColumn:"span 1",children:[(0,u.jsxs)(i.A,{className:"details_text",children:[e.value,":"]}),(0,u.jsx)(i.A,{className:"details_value",children:0==s?"".concat(null===t||void 0===t||null===(a=t.otherDetails)||void 0===a?void 0:a.accountReported," reports"):1==s?"".concat(null===t||void 0===t||null===(n=t.otherDetails)||void 0===n?void 0:n.accountWarnings," warnings"):2==s?"".concat(null===t||void 0===t||null===(l=t.otherDetails)||void 0===l?void 0:l.accountRaised," reports"):0})]})}))})]})]})})}},6226:(e,s,t)=>{t.d(s,{A:()=>a});var i=t(579);const a=function(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"button-container button-container",children:(0,i.jsx)("button",{className:"button-submit ".concat(e.isDisabled?"inactive":""," medium-18"),disabled:e.isDisabled,onClick:s=>(s=>{e.click(s)})(s),children:e.children})})})}},697:(e,s,t)=>{t.d(s,{A:()=>m});var i=t(5043);const a=t.p+"static/media/Shape.f320bb928ce9f8611ee274981b708607.svg";var n=t(4802),l=t(579);const r=e=>{let{changeHandler:s,searchText:t}=e;const[r,o]=(0,i.useState)("");(0,i.useEffect)((()=>{o(null!==t&&void 0!==t?t:"")}),[t]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"search",children:[(0,l.jsx)("input",{placeholder:"Search",className:"search-container",value:r,onChange:e=>{o(e.target.value),setTimeout((()=>{s(e.target.value)}),2e3)}}),(0,l.jsx)("img",{className:"lensIcon",src:a}),(0,l.jsx)(n.A,{className:"closeIcon",onClick:function(e){o(""),s("")}})]})})};var o=t(6446),c=t(7121),d=t(1045),h=t(871);const m=e=>{let{onCellClick:s,handleSearch:t,userList:a,isLoading:n,searchText:m}=e;const[u,p]=(0,i.useState)(0);(0,i.useEffect)((()=>{var e,s;p(null!==(e=null===(s=a[0])||void 0===s?void 0:s.id)&&void 0!==e?e:void 0)}),[a]);return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsxs)(o.A,{children:[(0,l.jsx)(c.A,{animation:"wave",style:{height:10}}),(0,l.jsx)(c.A,{animation:"wave"}),(0,l.jsx)(c.A,{animation:"wave"}),(0,l.jsx)(c.A,{animation:!1})]}):(0,l.jsxs)("div",{className:"report-list",children:[(0,l.jsx)("div",{className:"search_container",children:(0,l.jsx)(r,{changeHandler:e=>{t(e)},searchText:m})}),(0,l.jsx)("div",{className:"list_body",children:a.map(((e,t)=>{var i;return(0,l.jsx)("div",{className:"list-cell ".concat(u===e.id?"highlight":""),children:(0,l.jsx)("div",{className:"list-items",onClick:t=>{return i=e.id,s(i),void p(i);var i},children:(0,l.jsxs)("div",{className:"list-content",children:[(0,l.jsx)(d.A,{className:"report-list-profile",src:e.profile_pic}),(0,l.jsxs)("div",{className:"query-container",children:[(0,l.jsx)("label",{className:"regular-18 font-color",children:(0,h.kU)((null!==(i=e.display_name)&&void 0!==i?i:e.name)+" - #"+e.id)}),(0,l.jsx)("label",{className:"regular-14 lite-color",children:e.question})]})]})})},t)}))})]})})}},7285:(e,s,t)=>{t.d(s,{n$:()=>i,o7:()=>a,wz:()=>n,y9:()=>l});let i=function(e){return e[e.Active=0]="Active",e[e.Appealed=1]="Appealed",e[e.Completed=2]="Completed",e}({}),a=function(e){return e.image="image",e.video="video",e}({}),n=function(e){return e.social="social",e.repost="repost",e}({}),l=function(e){return e[e.report=1]="report",e[e.order=2]="order",e}({})},6486:(e,s,t)=>{t.r(s),t.d(s,{FlaggedReport:()=>se,default:()=>ie});var i=t(6226),a=t(5043),n=t(579);const l=e=>{let{onSegmentClick:s,segments:t}=e;return(0,n.jsx)("div",{className:"segment-background",children:t.map(((e,t)=>(0,n.jsx)("button",{className:e.isSelected?"segment-button":"segment-button-inactive",onClick:()=>s(t),children:(0,n.jsx)("div",{className:"".concat(e.isSelected?"segment-label":"segment-label-inactive"," semiBold-18 segment_color"),children:e.name})},t)))})};var r=t(697);const o=t.p+"static/media/likes.ebdbc5b7a57cf7e2fe10949d9aeac151.svg";const c=t.p+"static/media/comments.7831a647e54c88b0095d0dc5bcbf1323.svg";const d=t.p+"static/media/repost.929672a6df48d5c1f197490fa2646282.svg";var h=t(3003),m=t(1045),u=t(8903),p=t(2110),x=t(5865),v=t(6446),g=t(3193),j=t(338),A=t(707),f=t(4791),N=t(138),y=t(1189),w=t(7285),b=t(8872),C=t(2167),_=t(3461),k=t(2200),S=t(6011);const R=e=>{const[s,t]=(0,a.useState)(0),[i,l]=(0,a.useState)(0),[r,o]=(0,a.useState)([N.X]),[c,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{o(e.attachments)}),[e.attachments]);const u=e=>{l(e),t(s+e)},p=()=>{e.click&&(d(!1),m(!1),e.click())};function x(){d((e=>!e)),m(!1)}function v(){m((e=>!e)),d(!1)}return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"image_preview_container",children:null!==r&&void 0!==r&&r.length?r.map(((t,a,l)=>{var r,o,g,j,A,f,N,R;return a===s&&t.url&&(0,n.jsxs)("div",{className:"main",children:[l.length>1&&0!==a&&(0,n.jsx)("div",{className:"left_arrow",onClick:e=>u(-1),children:(0,n.jsx)("img",{className:"arrow_icon",src:y.A,alt:"arrow"})}),(0,n.jsx)("img",{onClick:()=>p(),className:"".concat(1===i?"backward":-1===i?"forward":0," source_container"),src:(null===(r=l.at(s))||void 0===r?void 0:r.type)===w.o7.image?null===(o=l.at(s))||void 0===o?void 0:o.url:null===(g=l.at(s))||void 0===g?void 0:g.thumbnailUrl,alt:"Post image not found"},a),(null===(j=l.at(s))||void 0===j?void 0:j.type)===w.o7.video?(0,n.jsx)("div",{onClick:()=>p(),children:(0,n.jsx)(C.A,{title:"Click to play video",children:(0,n.jsx)(b.A,{className:"play_icon"})})}):"",l.length>1&&a<l.length-1?(0,n.jsx)("div",{className:"right_arrow",onClick:e=>u(1),children:(0,n.jsx)("img",{className:"arrow_icon",src:y.A,alt:"arrow"})}):"",(0,n.jsxs)("div",{className:"actions-main-container",children:[(null===(A=e.post)||void 0===A?void 0:A.taggedPeople)&&(0,n.jsx)("div",{className:"tag-container",onClick:()=>{return s=[206,69,67],d(!1),m(!1),void(e.taggedPeopleTap&&e.taggedPeopleTap(s));var s},children:(0,n.jsx)(_.A,{})}),(null===(f=e.post)||void 0===f?void 0:f.taggedLocation)&&(0,n.jsx)("div",{className:"location-container",onClick:x,children:(0,n.jsx)(C.A,{PopperProps:{disablePortal:!0},onClose:()=>d(!1),open:c,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:null===(N=e.post)||void 0===N?void 0:N.taggedLocation.mainText,children:(0,n.jsx)(k.A,{})})}),(null===(R=e.post)||void 0===R?void 0:R.previewSong)&&(0,n.jsx)("div",{className:"song-container",onClick:v,children:(0,n.jsx)(C.A,{PopperProps:{disablePortal:!0},onClose:()=>m(!1),open:h,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:e.post.previewSong.name,children:(0,n.jsx)(S.A,{})})})]})]},a)})):""})})};var L=t(7948),T=t(6491),P=t(5346);const I=new P.Vy,D=(e,s)=>{var t,i;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"comment_container",children:[(0,n.jsxs)("div",{style:{marginLeft:"".concat(50*(e.level-1),"px")},className:"info_pic",children:[(0,n.jsx)(m.A,{alt:e.name,src:e.profilePic}),(0,n.jsxs)("div",{className:"info_text_comment",children:[(0,n.jsx)(x.A,{className:"semiBold-16 comment_user_name",children:null!==(t=e.display_name)&&void 0!==t?t:e.name}),(0,n.jsx)(x.A,{className:"regular-16",children:e.content}),(0,n.jsxs)("div",{className:"likes",children:[(0,n.jsx)(m.A,{sx:{width:"13px",height:"13px",marginTop:"-4px"},alt:"likes",src:o}),(0,n.jsx)(x.A,{className:"regular-14 likes_info",children:"0 Likes"})]})]})]}),null===(i=e.children)||void 0===i?void 0:i.map(((e,s)=>(0,n.jsx)("div",{children:D(e,s)},s)))]},s)})},U=e=>{const[s,t]=(0,a.useState)(0),[i,l]=(0,a.useState)([N.F]);(0,a.useEffect)((()=>{var s;s=e.postId,T.A.getCommentsByPostId(s).then((e=>{l(e);const s=r(i);t(s)})).catch((e=>{I.error(e)}))}),[e.postId]);const r=e=>{let s=e.length;return e&&e.length&&(null===e||void 0===e||e.forEach((e=>{e.children&&e.children.length>0&&(s+=r(e.children))}))),s};return(0,n.jsx)(n.Fragment,{children:i.length?i.map(((e,s)=>(0,n.jsx)("div",{children:D(e,s)},s))):""})};var q=t(8082),F=t(7362),B=t(7630),E=t(6031),W=t(189);let $=function(e){return e.object="object",e}({});var O=t(4802);const z=[{key:"likes",text:"likes",source:o},{key:"comments",text:"comments",source:c},{key:"shares",text:"repost",source:d}],G=e=>{var s;const{post:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(u.Ay,{container:!0,sx:{width:1,height:1},className:"repost_preview",children:[(0,n.jsxs)(u.Ay,{item:!0,className:"header_view",children:[(0,n.jsxs)(v.A,{display:"flex",alignItems:"center",gap:"10px",children:[(0,n.jsx)(v.A,{children:(0,n.jsx)(m.A,{src:t.user.profilePic})}),(0,n.jsxs)(v.A,{children:[(0,n.jsx)(x.A,{className:"medium-18",children:null!==(s=t.user.displayName)&&void 0!==s?s:t.user.name}),(0,n.jsxs)(v.A,{display:"flex",alignItems:"center",gap:"10px",children:[(0,n.jsx)(k.A,{className:"pin"}),(0,n.jsx)(x.A,{className:"location_text",children:t.user.displayLocationName})]})]})]}),(0,n.jsx)(v.A,{onClick:function(){F.A.dismiss()},children:(0,n.jsx)(O.A,{className:"cross_icon"})})]}),(0,n.jsxs)(u.Ay,{container:!0,className:"attachments",columnSpacing:"10px",columns:12,children:[(0,n.jsx)(u.Ay,{item:!0,xs:6,className:"right_view",children:(0,n.jsxs)(v.A,{sx:{display:"flex",flexDirection:"column",gap:"10px",position:"relative"},children:[(0,n.jsxs)(v.A,{sx:{display:"flex",gap:"10px",paddingTop:"10px",flexDirection:"column",position:"sticky",top:0,background:"var(--quaternary-color)",zIndex:99,paddingBottom:"10px",borderBottom:"solid 1px var(--line-border-color)"},children:[(0,n.jsx)(x.A,{className:"regular-16 font-color",children:t.name}),t?(0,n.jsxs)(v.A,{sx:{display:"flex",gap:1},children:[" ",z.map(((e,s)=>(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("img",{src:e.source,alt:e.text}),(0,n.jsxs)("p",{className:"regular-16 count",children:["12"," ",e.text]})]},s)))]}):""]}),(0,n.jsx)(v.A,{sx:{display:"flex",flexDirection:"column",gap:"10px"},children:(0,n.jsx)(U,{postId:t.id})})]})}),(0,n.jsx)(u.Ay,{item:!0,xs:6,className:"grid_2",children:(0,n.jsx)(R,{attachments:t.attachments,click:()=>{var e,s,i;return s=t.attachments,i=null!==(e=t.previewSong)&&void 0!==e?e:null,void W.A.createPreviewPopUp({headerName:"",attachments:s,previewSong:i})}})})]})]})})};var V=t(9034);const H=[{key:"likes",text:"likes",source:o},{key:"comments",text:"comments",source:c},{key:"shares",text:"repost",source:d}],Q=[{value:1,displayName:"View profile"},{value:2,displayName:"Chat"}],M=e=>{var s,t,i,l,r,o,c,d,N,y,b,C,_,k,S,T,P,I,D;const[O,z]=(0,a.useState)(""),[M,Z]=(0,a.useState)(""),X=(0,h.d4)((e=>e.flaggedReport.data)),{user:J,query:K,post:Y,actionList:ee,response:se,attachments:te,detail:ie}=X,[ae,ne]=(0,a.useState)(null),[le,re]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.isRendered&&(z(""),e.warningElementChange(""),Z(""))}),[e.isRendered]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"reportView",children:[(0,n.jsxs)("div",{className:"postContent",children:[(0,n.jsxs)("div",{className:"profile",children:[(0,n.jsxs)("div",{className:"detail",children:[(0,n.jsx)(m.A,{className:"profileIcon",src:null===J||void 0===J?void 0:J.profilePic,alt:null===J||void 0===J?void 0:J.name}),(0,n.jsx)("p",{className:"name regular-18",children:null===J||void 0===J?void 0:J.name})]}),(0,n.jsx)("div",{onClick:e=>{return s=e,re(!0),void ne(s.currentTarget);var s},children:(0,n.jsx)(q.A,{className:"three_dots"})})]}),(0,n.jsxs)("div",{className:"postCell",children:[(0,n.jsxs)("div",{className:"report_detail_container",children:[(0,n.jsxs)("p",{className:"option regular-18",children:[(0,n.jsx)("span",{className:"primary_text_color",children:"Reason: "}),(0,n.jsx)("span",{className:"quinary_text_color",children:null===K||void 0===K?void 0:K.question})]}),ie&&(0,n.jsx)("div",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("span",{className:"primary_text_color",children:"Description: "}),(0,n.jsx)("span",{className:"quinary_text_color",children:ie})]})}),te&&(0,n.jsxs)("div",{className:"report_attachment_container",children:[(0,n.jsx)("label",{children:"Attachments:"}),(0,n.jsx)(V.A,{images:te})]})]}),(0,n.jsxs)("div",{className:"source",children:[Y&&(0,n.jsxs)("div",{className:"owner-profile",children:[(0,n.jsx)(m.A,{sx:{width:30,height:30},src:null===(s=Y.user)||void 0===s?void 0:s.profilePic,alt:null!==(t=null===(i=Y.user)||void 0===i?void 0:i.displayName)&&void 0!==t?t:null===(l=Y.user)||void 0===l?void 0:l.name}),(0,n.jsx)("p",{className:"medium-18 font-color",children:null!==(r=null===Y||void 0===Y||null===(o=Y.user)||void 0===o?void 0:o.displayName)&&void 0!==r?r:null===(c=Y.user)||void 0===c?void 0:c.name})]}),Y&&typeof Y===$.object?(0,n.jsx)("div",{className:"".concat(Y.type===w.wz.social?"not_card":"card_height"," post-image"),children:(0,n.jsxs)(u.Ay,{container:!0,children:[(0,n.jsx)(u.Ay,{item:!0,xl:3.5,lg:6,md:12,sm:12,children:(0,n.jsxs)(p.A,{variant:"elevation",className:"".concat(Y.type===w.wz.social?"not_a_card":"card"),children:[Y.type===w.wz.repost?(0,n.jsxs)(u.Ay,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",padding:"15px 15px 10px 25px",children:[(0,n.jsxs)(u.Ay,{item:!0,display:"flex",flexDirection:"row",alignItems:"center",columnGap:"10px",children:[(0,n.jsx)(m.A,{sx:{width:30,height:30},src:null===(d=Y.data)||void 0===d||null===(N=d.user)||void 0===N?void 0:N.profilePic}),(0,n.jsx)(x.A,{className:"medium-18",children:null!==(y=null===(b=Y.data)||void 0===b||null===(C=b.user)||void 0===C?void 0:C.displayName)&&void 0!==y?y:null===(_=Y.data)||void 0===_||null===(k=_.user)||void 0===k?void 0:k.name})]}),(0,n.jsx)(u.Ay,{item:!0,children:(0,n.jsx)("span",{onClick:()=>(e=>{F.A.createPopUp({compoent:(0,n.jsx)(G,{post:e}),width:1020,height:560,header:!1,headerName:"",footer:!1,class:"main_content no_padding",showCloseIcon:!1})})(Y.data),children:(0,n.jsx)(x.A,{className:"medium-18 link_text",children:"show post"})})})]}):"",null!==(S=Y.attachments)&&void 0!==S&&S.length||null!==(T=Y.data)&&void 0!==T&&null!==(P=T.attachments)&&void 0!==P&&P.length?(0,n.jsx)(R,{click:()=>{var e,s,t,i;return((e,s)=>{W.A.createPreviewPopUp({headerName:"",attachments:e,previewSong:s})})(Y.attachments.length?Y.attachments:null===(e=Y.data)||void 0===e?void 0:e.attachments,null!==(s=null!==(t=Y.previewSong)&&void 0!==t?t:null===(i=Y.data)||void 0===i?void 0:i.previewSong)&&void 0!==s?s:null)},taggedPeopleTap:s=>(s=>{e.taggedPeopleTap(s)})(s),attachments:Y.attachments.length?Y.attachments:null===(I=Y.data)||void 0===I?void 0:I.attachments,post:Y}):""]})}),(0,n.jsx)(u.Ay,{item:!0,xl:8.5,lg:6,md:12,sm:12,children:(0,n.jsxs)("div",{className:"details",children:[(0,n.jsxs)("div",{className:"sticky_content",children:[(0,n.jsx)("div",{className:"thoughts",children:(0,n.jsx)("p",{className:"regular-18 font-color",children:Y.name})}),(0,n.jsx)("div",{className:"post-info",children:null!==(D=Y.attachments)&&void 0!==D&&D.length||Y.data?H.map(((e,s)=>(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("img",{src:e.source,alt:e.text}),(0,n.jsx)("p",{className:"regular-16 count",children:"".concat(X[e.key]," ").concat(e.text)})]},s))):""})]}),Y.name&&(0,n.jsx)("div",{className:"comments_viewer_flag",children:(0,n.jsx)(U,{postId:Y.id})})]})})]})}):(0,n.jsxs)("div",{className:"error_text",children:[(0,n.jsx)("p",{className:"regular-16 info_text",children:"Post Information not found"}),(0,n.jsx)(L.A,{})]})]})]})]}),(0,n.jsxs)("div",{className:"action",children:[e.currentTab.status!==w.n$.Active?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(v.A,{display:"flex",gap:"10px",alignItems:"center",marginBottom:"15px",children:[(0,n.jsx)(x.A,{className:"medium-16 font-color",children:"Action taken :"}),(0,n.jsx)(x.A,{className:"regular-16 font-color",children:null===se||void 0===se?void 0:se.action})]}),null!==se&&void 0!==se&&se.comments?(0,n.jsxs)(v.A,{display:"flex",gap:"10px",alignItems:"center",children:[(0,n.jsx)(x.A,{className:"medium-16 font-color",children:"Warning:"}),(0,n.jsx)(x.A,{className:"regular-16 font-color",children:null===se||void 0===se?void 0:se.comments})]}):""]}):"",e.currentTab.status!==w.n$.Completed?(0,n.jsx)("p",{className:"label semiBold-18",children:"Take action : "}):"",e.currentTab.status!==w.n$.Completed?(0,n.jsx)("div",{className:"action-option",children:(0,n.jsx)(g.A,{children:(0,n.jsx)(j.A,{"aria-labelledby":"Report actions",name:"radio-buttons-group",value:null===O||void 0===O?void 0:O.toString(),onChange:s=>{z(s.target.value),e.onChangeOption(ee[parseInt(s.target.value)]),Z("")},children:null!==ee&&void 0!==ee&&ee.length?ee.map(((e,s)=>(0,n.jsx)(A.A,{className:"radio",value:s.toString(),control:(0,n.jsx)(f.A,{}),label:e.question},s))):(0,n.jsx)(x.A,{className:"regular-16",children:null===ee||void 0===ee?void 0:ee.question})})})}):"",(0,n.jsx)("div",{className:"warning-input",children:"1"===O?(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"input-label semiBold-18 font-color",children:"Issue warning to the post owner: "}),(0,n.jsx)("div",{className:"input-container",children:(0,n.jsx)("textarea",{placeholder:"Provide valid information...",className:"inputBox",name:"input",value:M,onChange:s=>{var t;e.warningElementChange(null===(t=s.target.value)||void 0===t?void 0:t.trim()),Z(s.target.value)},ref:e.textAreaRef})})]}):""})]})]}),(0,n.jsx)(E.A,{open:le,anchorEl:ae,closePopover:()=>{re(!1)},configData:Q,selectedData:e=>{F.A.createPopUp({compoent:(0,n.jsx)(B.A,{id:J.id}),headerName:"",header:!1,footer:!1,width:580,height:560,class:"main_content",showCloseIcon:!0})}})]})};var Z=t(3620),X=t(3180),J=t(3855),K=t(9974);const Y=e=>{let{userList:s}=e;return(0,n.jsx)(n.Fragment,{children:null===s||void 0===s?void 0:s.map(((e,s)=>{var t;return(0,n.jsx)("div",{className:"list-items",children:(0,n.jsxs)("div",{className:"list-content",children:[(0,n.jsx)("img",{className:"user-list-profile",src:e.profilePic}),(0,n.jsx)("div",{className:"query-container",children:(0,n.jsx)("label",{className:"regular-18 font-color",children:null!==(t=e.displayName)&&void 0!==t?t:e.displayName})})]})},s)}))})},ee=new P.Vy;class se extends a.Component{constructor(e){super(e),this.commentsText="",this.handleCellClick=async e=>{Z.A.showLoader(!0),this.fetchReport(e),this.setState({isRendered:!1})},this.state={segmentData:[{name:"Active requests",status:w.n$.Active,isSelected:!0},{name:"Appealed",status:w.n$.Appealed,isSelected:!1},{name:"Completed",status:w.n$.Completed,isSelected:!1}],userList:[],isLoading:!1,currentTab:{name:"Active requests",status:w.n$.Active,isSelected:!0},isDisabledSubmit:!0,selectedReport:0,selectedQuery:"",isRendered:!1,showReport:!0,selectedReportAction:null,textareaRef:a.createRef(),seatchText:""},this.submitReport=this.submitReport.bind(this),this.handleCellClick=this.handleCellClick.bind(this),this.reportWarningChange=this.reportWarningChange.bind(this),this.callLoader=this.callLoader.bind(this)}callLoader(){this.setState({isLoading:!0}),setTimeout((()=>{this.setState({isLoading:!1})}),500)}componentDidMount(){this.fetchRequestList()}fetchRequestList(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.currentTab.status;Z.A.showLoader(!0);const t=w.y9.report;T.A.getReportList(s,t,e).then((e=>{this.setState((s=>{var t;return{...s,userList:e.result,showReport:e&&(null===(t=e.result)||void 0===t?void 0:t.length)}}),(()=>{var s,t;e&&null!==(s=e.result)&&void 0!==s&&s.length&&this.fetchReport(null===(t=e.result[0])||void 0===t?void 0:t.id),Z.A.showLoader(!1)}))})).catch((e=>{ee.debug(e),Z.A.showLoader(!1)}))}fetchReport(e){T.A.fetchDetailsByReportId(e).then((s=>{this.props.reportDetails(s),this.setState({selectedReport:e,isRendered:!0,isDisabledSubmit:!0})})).catch((e=>{ee.debug(e)})).finally((()=>{Z.A.showLoader(!1)}))}segmentSelected(e){this.setState((s=>({segmentData:s.segmentData.map(((s,t)=>({...s,isSelected:e===t}))),currentTab:s.segmentData[e],isRendered:!1,seatchText:""})),(()=>{this.fetchRequestList()}))}onSearch(e){this.setState((s=>({...s,seatchText:e}))),this.fetchRequestList(e)}handleOptionChange(e){this.setState((s=>({isDisabledSubmit:!1,selectedQuery:e.question,selectedReportAction:e.id})),(()=>{})),this.commentsText=""}reportWarningChange(e){this.commentsText=e}saveReport(e,s){Z.A.showLoader(!0),T.A.saveReport(e,s).then((()=>{J.A.showToaster({message:K.QB.successFully,severity:"success"}),this.setState({isRendered:!1}),this.fetchRequestList()})).catch((e=>{ee.error(e)})).finally((()=>{Z.A.showLoader(!1)}))}submitReport(e){if(e.preventDefault(),26==this.state.selectedReportAction&&!this.commentsText)return J.A.showToaster({message:"Warning message required",severity:"warning"}),void(this.state.textareaRef&&this.state.textareaRef.current.focus());this.saveReport(this.state.selectedReport,{action:this.state.selectedQuery,comments:this.commentsText})}getUsersWithId(e){Z.A.showLoader(!0),T.A.getUserList(e).then((e=>{this.showTagPeoplePopUp(e),Z.A.showLoader(!1)})).catch((e=>{Z.A.showLoader(!1),ee.info(e)}))}showTagPeoplePopUp(e){F.A.createPopUp({headerName:"Tagged in the post",header:!0,footer:!1,width:700,height:560,compoent:(0,n.jsx)(Y,{userList:e}),class:"dialouge-content-container",showCloseIcon:!1})}render(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"report-layout",children:[(0,n.jsxs)("div",{className:"justify-spacebetween",children:[(0,n.jsx)("div",{className:"width-50",children:(0,n.jsx)(l,{segments:this.state.segmentData,onSegmentClick:e=>this.segmentSelected(e)})}),this.state.currentTab.status!=w.n$.Completed&&(0,n.jsx)("div",{className:"width-50 submit_button_container",children:(0,n.jsx)("div",{className:"submit_button",children:(0,n.jsx)(i.A,{click:this.submitReport,isDisabled:this.state.isDisabledSubmit,children:"Submit"})})})]}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)(r.A,{handleSearch:e=>this.onSearch(e),userList:this.state.userList,onCellClick:e=>this.handleCellClick(e),isLoading:this.state.isLoading,searchText:this.state.seatchText}),this.state.showReport?(0,n.jsx)(M,{isRendered:this.state.isRendered,onChangeOption:e=>this.handleOptionChange(e),warningElementChange:this.reportWarningChange,taggedPeopleTap:e=>this.getUsersWithId(e),currentTab:this.state.currentTab,textAreaRef:this.state.textareaRef}):""]})]})})}}const te={reportDetails:X.Rb},ie=(0,h.Ng)((e=>({reportDetail:e.data})),te)(se)}}]);
//# sourceMappingURL=486.3c46b5de.chunk.js.map